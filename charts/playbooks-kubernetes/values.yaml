# yaml-language-server: $schema=values.schema.json

# @schema
# required: false
# @schema
rbac:
  # @schema
  # type: boolean
  # required: false
  # @schema
  # -- create a ClusterRole with the necessary permissions for kubectl/helm CLI actions
  create: false
  # @schema
  # type: string
  # required: false
  # @schema
  # -- name of the ClusterRole to create
  clusterRoleName: playbooks-kubernetes
  # @schema
  # type: string
  # required: false
  # @schema
  # -- serviceAccount to bind the ClusterRole to
  serviceAccount: mission-control-sa
  # @schema
  # type: string
  # required: false
  # @schema
  # -- namespace of the serviceAccount
  serviceAccountNamespace: mission-control

playbooks:
  # If this is set to false, no playbooks will be created
  enabled: true
  createDeployment: true
  logs: true
  delete: true
  ignoreChanges: true
  cleanupFailedPods: true
  podSnapshot: false
  requestNamespaceAccess: true
  restart: true
  scale: true
  updateImage: true
  updateResources: true
  deployHelmChart: true
  drainNode: true
  cordonNode: true
  uncordonNode: true

# @schema
# required: false
# @schema
connections:
  # @schema
  # type: boolean
  # required: false
  # @schema
  # -- enables AWS authentication using EKS Pod Identity.
  # When enabled, AWS environment variables (AWS_*) will be passed through
  # to allow playbooks to authenticate with AWS services
  podIdentity: false

  # @schema
  # type: boolean
  # required: false
  # @schema
  # -- enables Kubernetes authentication using ServiceAccount token.
  # When enabled, Kubernetes environment variables will be passed through
  # to allow playbooks to authenticate with the Kubernetes API server
  serviceAccount: false

delete:
  types:
    - Kubernetes::Pod
    - Kubernetes::Deployment
    - Kubernetes::Statefulset
    - Kubernetes::ReplicaSet
    - Kubernetes::Job
    - Kubernetes::CronJob
    - Kubernetes::DaemonSet
    - Kubernetes::ConfigMap
