{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "additionalProperties": false,
  "properties": {
    "connections": {
      "additionalProperties": false,
      "properties": {
        "podIdentity": {
          "default": false,
          "description": "enables AWS authentication using EKS Pod Identity.\nWhen enabled, AWS environment variables (AWS_*) will be passed through\nto allow playbooks to authenticate with AWS services",
          "required": [],
          "title": "podIdentity",
          "type": "boolean"
        },
        "serviceAccount": {
          "default": false,
          "description": "enables Kubernetes authentication using ServiceAccount token.\nWhen enabled, Kubernetes environment variables will be passed through\nto allow playbooks to authenticate with the Kubernetes API server",
          "required": [],
          "title": "serviceAccount",
          "type": "boolean"
        }
      },
      "required": [],
      "title": "connections"
    },
    "delete": {
      "additionalProperties": false,
      "properties": {
        "types": {
          "items": {
            "anyOf": [
              {
                "required": [],
                "type": "string"
              },
              {
                "required": [],
                "type": "string"
              },
              {
                "required": [],
                "type": "string"
              },
              {
                "required": [],
                "type": "string"
              },
              {
                "required": [],
                "type": "string"
              },
              {
                "required": [],
                "type": "string"
              },
              {
                "required": [],
                "type": "string"
              },
              {
                "required": [],
                "type": "string"
              }
            ],
            "required": []
          },
          "required": [],
          "title": "types",
          "type": "array"
        }
      },
      "required": [
        "types"
      ],
      "title": "delete",
      "type": "object"
    },
    "global": {
      "description": "Global values are values that can be accessed from any chart or subchart by exactly the same name.",
      "required": [],
      "title": "global",
      "type": "object"
    },
    "playbooks": {
      "additionalProperties": false,
      "properties": {
        "cleanupFailedPods": {
          "default": true,
          "required": [],
          "title": "cleanupFailedPods",
          "type": "boolean"
        },
        "cordonNode": {
          "default": true,
          "required": [],
          "title": "cordonNode",
          "type": "boolean"
        },
        "createDeployment": {
          "default": true,
          "required": [],
          "title": "createDeployment",
          "type": "boolean"
        },
        "delete": {
          "default": true,
          "required": [],
          "title": "delete",
          "type": "boolean"
        },
        "deployHelmChart": {
          "default": true,
          "required": [],
          "title": "deployHelmChart",
          "type": "boolean"
        },
        "drainNode": {
          "default": true,
          "required": [],
          "title": "drainNode",
          "type": "boolean"
        },
        "enabled": {
          "default": true,
          "description": "If this is set to false, no playbooks will be created",
          "required": [],
          "title": "enabled",
          "type": "boolean"
        },
        "ignoreChanges": {
          "default": true,
          "required": [],
          "title": "ignoreChanges",
          "type": "boolean"
        },
        "logs": {
          "default": true,
          "required": [],
          "title": "logs",
          "type": "boolean"
        },
        "podSnapshot": {
          "default": false,
          "required": [],
          "title": "podSnapshot",
          "type": "boolean"
        },
        "requestNamespaceAccess": {
          "default": true,
          "required": [],
          "title": "requestNamespaceAccess",
          "type": "boolean"
        },
        "restart": {
          "default": true,
          "required": [],
          "title": "restart",
          "type": "boolean"
        },
        "scale": {
          "default": true,
          "required": [],
          "title": "scale",
          "type": "boolean"
        },
        "uncordonNode": {
          "default": true,
          "required": [],
          "title": "uncordonNode",
          "type": "boolean"
        },
        "updateImage": {
          "default": true,
          "required": [],
          "title": "updateImage",
          "type": "boolean"
        },
        "updateResources": {
          "default": true,
          "required": [],
          "title": "updateResources",
          "type": "boolean"
        }
      },
      "required": [
        "enabled",
        "createDeployment",
        "logs",
        "delete",
        "ignoreChanges",
        "cleanupFailedPods",
        "podSnapshot",
        "requestNamespaceAccess",
        "restart",
        "scale",
        "updateImage",
        "updateResources",
        "deployHelmChart",
        "drainNode",
        "cordonNode",
        "uncordonNode"
      ],
      "title": "playbooks",
      "type": "object"
    },
    "rbac": {
      "additionalProperties": false,
      "properties": {
        "clusterRoleName": {
          "default": "playbooks-kubernetes",
          "description": "name of the ClusterRole to create",
          "required": [],
          "title": "clusterRoleName",
          "type": "string"
        },
        "create": {
          "default": false,
          "description": "create a ClusterRole with the necessary permissions for kubectl/helm CLI actions",
          "required": [],
          "title": "create",
          "type": "boolean"
        },
        "serviceAccount": {
          "default": "mission-control-sa",
          "description": "serviceAccount to bind the ClusterRole to",
          "required": [],
          "title": "serviceAccount",
          "type": "string"
        },
        "serviceAccountNamespace": {
          "default": "mission-control",
          "description": "namespace of the serviceAccount",
          "required": [],
          "title": "serviceAccountNamespace",
          "type": "string"
        }
      },
      "required": [],
      "title": "rbac"
    }
  },
  "required": [
    "playbooks",
    "delete"
  ],
  "type": "object"
}